# foodbox_system

Ⅰ. 기술개발의 개요
  가. 기술개발의 목적
    1) 최근 몇년전부터 코로나19로 인해 배달시장이 급성장하면서 사회적인 이슈가 되는 문제가 발생
    2) 음식을 배달하는 도중 배달하던 음식을 몰래 빼먹는 행위 발생.
    3) 배달원 뿐만이 아니라 옆집 사람 등 타인 전체의 무단 취식 방지 필요
    4) 위와 같은 '배달 음식 무단 취식' 문제 해결을 위해 ‘푸드 박스 시스템’을 구상


  나. 기술개발의 필요성
    1) 필요성 : '푸드 박스 시스템'의 개발로 인한 배달 음식 무단 취식 문제 완화 기대

    2) 현황
     2-1) 최근 소비자 측의 신종 배달 음식 무단 취식 행태가 발생
     2-2) '푸드 박스 시스템'의 로그 히스토리 기능을 통한 문제 완화 기대

    3) 한계점 : '푸드 박스 기기' 설비 원가가 소비자 입장에서 매력적이지 못 함
    4) 개선방안 : 대량생산 또는 부품의 간소화 등으로 개선 기대

Ⅱ. 기술개발의 내용 및 방법
  가. 기술개발의 주요 내용
      1) 시스템 개요
	○ 시스템은 아래 5개의 모듈로 구성
	  - Food Box Database(푸드 박스 데이터베이스)
	  - Food Box IoT Hub(푸드 박스 IoT 허브)
	  - Food Box App Server(푸드 박스 앱 서버)
	  - Food Box Device(푸드 박스 기기)
	  - Food Box Order Receipt app. for Store(가게용 푸드 박스 주문 접수 앱)
	  - Food Box Order App. for Consumer(소비자용 푸드 박스 주문 앱)

	1.1) 기본 시나리오
	  가. 소비자용 주문 앱에서 가게 측에 푸드박스 옵션으로 배달 주문
	  나. 가게용 주문접수 앱에 해당 주문 정보 표기
	  다. 주문 접수 앱에서 QR 코드 스캔 또는 고유 식별번호를 통해 사용할 기기 할당
	  라. LED가 점등된 푸드박스 기기에 음식 보관 후 문 폐쇄
	  마. 주문접수 앱 배달시작 버튼 클릭 시, 주문 앱으로 배달시작 알림 및 기기 잠금
	  바. 주문 앱 잠금해제 버튼 클릭 시, 주문 장소로 배달된 푸드박스 기기 잠금해제
	  사. 잠금이 해제된 푸드박스 기기 개방 및 음식 수령 후 수령 완료 신호 가게 전송
	  아. 음식 수령 완료 확인 시, 주문 장소의 푸드박스 수거
	  자. 주문접수 앱으로 매장으로 수거된 푸드 박스의 주문 할당 해제
	  차. 하나의 푸드박스 기기마다 '가'~'자'의 과정을 반복

	1.2) 제약 및 가정 조건
	  가. 배달 주문과 푸드 박스 기기는 1 : 1 할당만 허용
	  나. 푸드 박스 기기와 주문 앱 구동 기기 간 거리 10m 이하일 때 잠금해제 가능
	  다. 기존의 배달 어플리케이션에 대한 추가 기능으로 가정
	  라. 본 시스템에서는 푸드 박스 기기 시연에 필요한 기능 및 로그 기능만 구현

	1.3) 시스템 모듈
	  1.3.1) Food Box Database(푸드 박스 데이터베이스)
	   ○ 푸드 박스 시스템 기능으로 인해 발생하는 데이터 관리

	   ○ 메타데이터
	    - Device : 푸드 박스 시스템에 등록된 기기 데이터
	    - Store : 푸드 박스 시스템에 등록된 가게 계정 데이터
	    - Consumer : 푸드 박스 시스템에 등록된 소비자 계정 데이터
	    - Order : 푸드 박스 시스템에서 발생한 주문 데이터

	   ○ 모듈 제약 및 가정사항
	    - 푸드 박스 기기 제품 생산 시 해당 기기의 고유 식별번호 DB에 저장 필요

	  1.3.2) Food Box System Central Server(푸드 박스 시스템 중앙 서버)
	   ○ 푸드 박스 시스템을 구성하는 클라이언트끼리의 통신을 중개하는 중앙 서버
	   ○ 소비자 계정과 가게 계정마다 주문 정보 및 진행 로그 파일 1개 작성
	   ○ 하나의 Food Box Database와 연동
	   ○ 다음의 클라이언트 시스템 모듈과 통신
	    - Food Box Device(푸드 박스 기기)
	    - Food Box Order Receipt app. for Store(가게용 푸드 박스 주문 접수 앱)
	    - Food Box Order App. for Consumer(소비자용 푸드 박스 주문 앱)
	   ○ 각 기기의 클라이언트 시스템 모듈은 반드시 서버를 통해 데이터 송수신

	  1.3.3) Food Box Device(푸드 박스 기기)
	   ○ 푸드 박스 시스템의 음식 보관 박스
	    - 사용자 : 가게, 소비자

	   ○ H/W 구성 모듈
	    - Output Module : Servo Motor, RGB LED, LED, Speaker
	    - Communication Module : GPS, Cellular
	    - Power Module : Lithium Ion Battery, Battery Charger, Battery Output
	    - Etc. : Resistor, Gate, Wire

	   ○ 모듈 시나리오
	    1. 가게 측의 기기 등록 시, 주문 미할당, 잠금해제 상태
	    2. 주문 접수 시, 주문 할당 상태 진입 후 스피커로 안내음 출력 및 LED 점등
	    3. 배달 시작 시, 잠금 상태 진입 및 스피커로 안내음 출력
	    4. 소비자의 잠금 해제 요청 시, 잠금해제 상태 진입 및 스피커로 안내음 출력
	    6. 주문 접수 앱의 주문 할당 해제 요청 시, 주문할당 해제 및 LED 소등
	    7. 2~6의 과정 반복

	   ○ 모듈 제약 및 가정사항
	    - 기기 고유 식별번호는 로컬 파일을 읽어 데이터로 저장
	    - 기기 고유 식별번호와 일치하는 정보가 DB에 없으면 시스템 작동 중지
	    - 기기의 배터리 잔량이 25% 이하일 경우 주문 할당 불가



	  1.3.4) Food Box Order Receipt app. for Store(가게용 푸드 박스 주문 접수 앱)
	   ○ 푸드 박스 옵션 주문 접수용 모바일 애플리케이션
	    - 사용자 : 가게

	   ○ 사용자 인터페이스
	    - 가게 계정 관리(등록, 로그인 및 ID / 비밀번호 찾기)
	    - 기기 관리 기능(기기 목록, 기기 등록 및 해지 기능)
	    - 배달 주문 접수 목록
	    - 주문 정보 관리(배달 시작, 할당 기기 잠금 및 해제, 할당 해제)

	   ○ 모듈 시나리오
	    1. 가게 계정 등록 및 로그인
	    2. 푸드박스 기기 등록
	    3. 배달 주문 접수 신호 수신 및 알림 발생
	    4. 사용할 기기의 QR코드 또는 고유 식별번호를 통해 주문에 기기 할당
	    5. 기기에 조리 음식 보관 후 배달 시작 버튼 클릭 시, 소비자에 해당 알림 전송
	    6. 음식 수령 완료 신호 수신 및 알림 발생
	    7. 푸드박스 기기 수거 완료 시, 푸드 박스 주문 할당 해제
	    8. 3~7의 과정 반복

	   ○ 모듈 제약 및 가정사항
	    - 잠금 상태 푸드박스에 대한 잠금 해제 기능 필요
	    - 등록된 기기에 대한 해지 기능 필요


	  1.3.5) Food Box Order App. for Consumer(소비자용 푸드 박스 주문 앱)
	   ○ 푸드 박스 옵션 주문용 모바일 애플리케이션
	    - 사용자 : 소비자

	   ○ 사용자 인터페이스
	    - 소비자 계정 관리(등록, 로그인 및 ID / 비밀번호 찾기) UI
	    - 가게 목록 및 가게 메뉴 배달 주문 UI
	    - 배달 주문 목록 UI
	    - 푸드박스 기기 잠금해제 버튼 UI

	   ○ 모듈 시나리오
	    1. 소비자 계정 등록 및 로그인
	    2. 푸드 박스 옵션으로 배달 주문 시, 가게에 주문 알림 전송
	    3. 배달 시작 신호 수신 및 알림 발생
	    4. 배달된 푸드박스 기기와 10m 거리 내에서 기기 잠금해제
	    5. 잠금해제 시, 가게에 음식 수령 완료 신호 전송
	    6. 2~5의 과정 반복

	   ○ 모듈 제약 및 가정사항
	    - 주문하려는 가게에 할당 가능한 푸드박스 기기가 없으면 옵션 선택 불가
	    - 가게 위치와 현재 등록 주소에 관계 없이 주문 가능하도록 가정
	    - GPS 기능 허용 필요
     
  나. 기술개발의 추진전략 및 방법
      1) 추진 전략
	1.1) 업무 분담
      - 안성현 : 프로젝트 총괄 및 자재, 연구비 관리, 개발 시스템 분석, 기기 설계 및 구현
      - 이동준 : 백엔드(데이터베이스, IoT 허브, 앱 서버) 설계 및 구현
      - 밥킨 다니일 : 가게 앱 설계 및 구현
      - 이강주 : 소비자 앱 설계 및 구현
      
	1.2) 추진 일정
      - 일정 관리는 Jira로 진행
     
      2) 추진 방법
		2.1) 분석 단계
      - 요구사항 정의서 작성
      - 프로세스 정의서 작성
      - 인터페이스 정의서 작성
      
		2.2) 설계 단계
      - 데이터베이스 설계서 작성
      - 기기 HW 설계서 작성
      - 모바일 앱 화면 설계서 작성
      - 개발 표준 정의서 작성
      - 프로그램 목록(클래스 정의서) 작성
      
		2.3) 구현 단계
      - 소스 코드 작성
      - 모듈 단위 테스트 및 디버그
      - 시스템 단위 테스트 및 디버그
      - 최종 보고서 작성
      
Ⅲ. 기술개발의 활용방안 및 기대효과
  가. 기술개발 활용방안
    1) 음식 배달 뿐만 아닌 각종 물품의 전달 서비스로 확장 가능
	- 위 개발의 내용은 음식 뿐만이 아닌 각종 중요 물품 등의 전달 측면에서도 매력적인 서비스로서 이용 가능

    2) 물품 전달의 보존성 강화
	- 위 개발의 내용은 음식 배달 뿐 아닌 각종 중요 물품 등의 전달 과정에 발생할 수 있는 물품 이탈, 횡령, 갈취 등에 대한 대처방안을 제공할 수 있음

    3) 물품 취득에 대한 잠금해제 보안성 강화
	- 위 개발의 내용은 잠금 해제 비밀번호 유출 등의 문제 상황 발생 가능성 없이 수령자의 모바일 디바이스용 앱을 이용한 잠금 해제 방식만 허용되어 견고한 보안 체계를 제공할 수 있음


  나. 기술개발 기대효과  
    1) 음식을 포함한 물품 전달 서비스의 진행 상황 구체적 인지 가능
	- 현재 GPS 좌표 확인 등의 기술로 물품의 현 위치 파악 및 이동 동선 파악 가능

    2) Iot 서비스 개발 능력 함양
	- 본 학부에서 주요 분야로서 다루지 않던 Iot 개발을 주제로 연구함으로서 참여 인력의 Iot 개발 능력 함양 가능

    3) 전자기기 회로 설계 및 설비 능력 함양
	- 본 학부에서 주요 분야로서 다루지 않던 전자기기 회로 설계 및 설비를 개발 과정에서 진행함으로서 참여 인력의 전자기기 회로 설계 및 설비 능력 함양 가능

    4) 서버 관리 능력 함양
	- 본 학부에서 다루던 예제 또는 소규모 프로젝트가 아닌 실질적 이용 가능 프로젝트를 연구하며 참여 인력의 실무 기반 서버 관리 능력 함양 가능

    5) 시스템 사용자 구분 및 전용 소프트웨어 설계 적용 능력 함양
	- 사용자의 범위가 다른 소프트웨어들끼리 각각의 역할과 태스크를 수행할 수 있도록 소프트웨어를 설계하여 참여 인력의 소프트웨어 설계 적용 능력 함양 가능

    6) 시스템 상용화 기획 능력 함양
	- 시스템에 대한 소프트웨어 설계를 제외한 경제적 측면 고려 및 상용화를 위한 기획을 연구하여 참여 인력의 시스템 상용화 기획 능력 함양 가능
    7) 업무 분담 능력 함양
	- 참여 인력마다의 업무 분담을 통한 프로젝트 관리 능력 함양 가능
  
  
작성자 : 안성현
개발자 : 안성현, 이동준, 밥킨 다니일, 이강주
확인자 : 안성현, 이동준, 밥킨 다니일, 이강주
